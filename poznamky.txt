permutation:
	
    uint16_t out[4] = { 0 };

    out[0] ^= state[0] & 0x1111;
    out[1] ^= state[0] & 0x2222;
    out[2] ^= state[0] & 0x4444;
    out[3] ^= state[0] & 0x8888;

    out[1] ^= state[1] & 0x1111;
    out[2] ^= state[1] & 0x2222;
    out[3] ^= state[1] & 0x4444;
    out[0] ^= state[1] & 0x8888;

    out[2] ^= state[2] & 0x1111;
    out[3] ^= state[2] & 0x2222;
    out[0] ^= state[2] & 0x4444;
    out[1] ^= state[2] & 0x8888;

    out[3] ^= state[3] & 0x1111;
    out[0] ^= state[3] & 0x2222;
    out[1] ^= state[3] & 0x4444;
    out[2] ^= state[3] & 0x8888;

explanation:
	out = [ '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000' ]
	
	0x1111 = 0001000100010001
	0x2222 = 0010001000100010
	0x4444 = 0100010001000100
	0x8888 = 1000100010001000

	out[0] ^= state[0] & 0x1111:
		state[0] & 0x1111:
			0000000000001010
		  & 0001000100010001
		  = 0000000000000000
		
		0000000000000000
	  ^ 0000000000000000
	  = 0000000000000000